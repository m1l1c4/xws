(this["webpackJsonprent-a-car"]=this["webpackJsonprent-a-car"]||[]).push([[7],{36:function(e,t,a){"use strict";a.r(t);var r=a(43),s=a(44),n=a(49),o=a(47),l=a(46),m=a(0),c=a.n(m),i=a(52),u=a.n(i),d=a(54),p=(a(76),a(64),a(146)),h=a(147),E=a(148),f=a(150),g=a(151),x=a(152),w=a(175),v=a(176),y=a(177),T=a(178),C=a(108),b=a(338),N=a.n(b),S=a(276),V=a.n(S),j=a(343),P=a.n(j),F=function(e){Object(o.a)(a,e);var t=Object(l.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).validateFields=function(e){return""===s.state.username||""===s.state.password||""===s.state.name||""===s.state.surname||""===s.state.address||""===s.state.city||""===s.state.email||""===s.state.password1?(s.setState({formValid:!0,formErrorText:"All fields are required."}),!0):(s.setState({formValid:!1,formErrorText:""}),!1)},s.validatePassword=function(){var e=!1,t=!1,a=!1;if(""===s.state.password)s.setState({passErrorText:"This field is required.",formErrorText:""});else if(s.state.password.length<10)s.setState({passErrorText:"Minimum length of password is 10 characters.",formErrorText:""});else{var r;for(r=0;r<s.state.password.length;r++)isNaN(1*s.state.password.charAt(r))?s.state.password.charAt(r)!==s.state.password.charAt(r).toLowerCase()?s.state.password.charAt(r)!==s.state.password.charAt(r).toUpperCase()||(e=!0):t=!0:a=!0;if(a?t?e?s.setState({passErrorText:"",formValid:!1,formErrorText:""}):s.setState({passErrorText:"Password must contain at least one capital letter.",formErrorText:""}):s.setState({passErrorText:"Password must contain at least one lowercase letter.",formErrorText:""}):s.setState({passErrorText:"Password must contain at least one digit.",formErrorText:""}),""!==s.state.username){var n=s.state.username.toLowerCase();s.state.password.toLowerCase().includes(n)&&s.setState({passErrorText:"Password can not contain username.",formErrorText:""})}}},s.validateUsername=function(){s.state.username.length<6?s.setState({formValid:!0,formUsernameText:"Minimum length of username is 6."}):s.setState({formValid:!1,formUsernameText:""})},s.checkPasswordMatching=function(e){s.state.password!==e.target.value?s.setState({formValid:!0,matchErrorText:"Password doesn't match."}):s.setState({formValid:!1,matchErrorText:"",password1:e.target.value})},s.validateEmail=function(e){/\S+@\S+\.\S+/.test(e.target.value)?s.setState({formValid:!1,emailErrorText:""}):s.setState({formValid:!0,emailErrorText:"Expected input: local@domain."})},s.cleanAll=function(){return s.setState({password:"",formValid:!0,name:"",surname:"",address:"",usernameErrorText:"",city:"",password1:"",emailErrorText:"",notFilledError:!1,formErrorText:"",passErrorText:"",username:""})},s.sendRegistration=function(e){if(e.preventDefault(),s.validateFields(),!s.state.formValid){var t={username:s.state.username,email:s.state.email,password:s.state.password,name:s.state.name,surname:s.state.surname,address:s.state.address,city:s.state.city,companyName:s.state.companyName,registryNumber:s.state.registryNumber,isCustomer:s.state.isCustomer};u()({method:"post",url:"https://localhost:8082/authpoint/auth/register",data:t,ContentType:"application/json"}).then((function(e){200===e.status&&(d.NotificationManager.success("Vas zahtev za registraciju je uspesno poslat!","Uspjesno!",3e3),s.props.history.push("/ads"))}),(function(e){console.log(e)})),s.cleanAll()}},s.handleChange=function(e){"agent"===e.target.value?s.setState({changeForm:!0,isCustomer:!1}):s.setState({changeForm:!1,isCustomer:!0})},s.state={username:"",password:"",name:"",surname:"",address:"",city:"",email:"",formValid:!0,isCustomer:!0,formErrorText:"",passErrorText:"",emailErrorText:"",matchErrorText:"",password1:"",changeForm:!1,registryNumber:0,companyName:"",formUsernameText:""},s.validatePassword=s.validatePassword.bind(Object(n.a)(s)),s.validateFields=s.validateFields.bind(Object(n.a)(s)),s.validateUsername=s.validateUsername.bind(Object(n.a)(s)),s}return Object(s.a)(a,[{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"app flex-row align-items-center bgimg"},c.a.createElement(p.a,null,c.a.createElement(h.a,{className:"justify-content-center"},c.a.createElement(E.a,{md:"16",lg:"16",xl:"16"},c.a.createElement(f.a,{className:"mx-16"},c.a.createElement(g.a,{className:"p-4"},c.a.createElement(x.a,{onSubmit:this.sendRegistration},c.a.createElement("h1",null,"Welcome to our rent-a-car service!"),c.a.createElement("p",{className:"text-muted"},"Create your account - it's free"),c.a.createElement(V.a,{name:"gender1",onChange:function(t){return e.handleChange(t)},row:!0},c.a.createElement(N.a,{value:"agent",control:c.a.createElement(P.a,{row:!0}),label:"agent"}),c.a.createElement(N.a,{value:"regular customer",control:c.a.createElement(P.a,{checked:!this.state.changeForm}),label:"regular customer"})),c.a.createElement(w.a,{className:"mb-3"},c.a.createElement(v.a,{type:"text",placeholder:"Username",autoComplete:"username",onBlur:this.validateUsername,value:this.state.username,onChange:function(t){return e.setState({username:t.target.value})}}),c.a.createElement(y.a,{color:"danger"},this.state.formUsernameText)),c.a.createElement(w.a,{className:"mb-3"},c.a.createElement(v.a,{type:"text",placeholder:"Email",autoComplete:"email",value:this.state.email,onChange:function(t){return e.setState({email:t.target.value})},onBlur:this.validateEmail}),c.a.createElement(y.a,{color:"danger"},this.state.emailErrorText)),c.a.createElement(T.a,{row:!0,className:"my-0",hidden:this.state.changeForm},c.a.createElement(E.a,{xs:"6"},c.a.createElement(w.a,{className:"mb-3"},c.a.createElement(v.a,{type:"text",placeholder:"Name",autoComplete:"name",value:this.state.name,onChange:function(t){return e.setState({name:t.target.value})}}))),c.a.createElement(E.a,{xs:"6"},c.a.createElement(w.a,{className:"mb-3"},c.a.createElement(v.a,{type:"text",placeholder:"Surname",autoComplete:"surname",value:this.state.surname,onChange:function(t){return e.setState({surname:t.target.value})}})))),c.a.createElement(T.a,{row:!0,className:"my-0",hidden:!this.state.changeForm},c.a.createElement(E.a,{xs:"6"},c.a.createElement(w.a,{className:"mb-3"},c.a.createElement(v.a,{type:"text",placeholder:"Company name",value:this.state.companyName,onChange:function(t){return e.setState({companyName:t.target.value})}}))),c.a.createElement(E.a,{xs:"6"},c.a.createElement(w.a,{className:"mb-3"},c.a.createElement(v.a,{type:"text",placeholder:"Registry number",value:this.state.registryNumber,onChange:function(t){return e.setState({registryNumber:t.target.value})}})))),c.a.createElement(w.a,{className:"mb-3"},c.a.createElement(v.a,{type:"text",placeholder:"Address",autoComplete:"address",value:this.state.address,onChange:function(t){return e.setState({address:t.target.value})}})),c.a.createElement(w.a,{className:"mb-3"},c.a.createElement(v.a,{type:"text",placeholder:"City",autoComplete:"city",value:this.state.city,onChange:function(t){return e.setState({city:t.target.value})}})),c.a.createElement(w.a,{className:"mb-3"},c.a.createElement(v.a,{type:"password",placeholder:"Password",autoComplete:"new-password",value:this.state.password,onChange:function(t){return e.setState({password:t.target.value})},onBlur:this.validatePassword}),c.a.createElement(y.a,{color:"danger"},this.state.passErrorText)),c.a.createElement(w.a,{className:"mb-4"},c.a.createElement(v.a,{type:"password",placeholder:"Repeat password",autoComplete:"new-password",onChange:this.checkPasswordMatching}),c.a.createElement(y.a,{color:"danger"},this.state.matchErrorText)),c.a.createElement(C.a,{disabled:this.state.formValid,color:"success",block:!0},"Create Account"),c.a.createElement(y.a,{color:"danger"},this.state.formErrorText))))))),c.a.createElement(d.NotificationContainer,null))}}]),a}(m.Component);t.default=F}}]);
//# sourceMappingURL=7.7874463b.chunk.js.map